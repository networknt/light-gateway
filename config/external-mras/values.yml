handler.basePath: /
handler.handlers:
# Light-framework cross-cutting concerns implemented in the microservice
  - com.networknt.exception.ExceptionHandler@exception
  - com.networknt.traceability.TraceabilityHandler@traceability
  - com.networknt.correlation.CorrelationHandler@correlation
  - com.networknt.handler.ResponseInterceptorInjectionHandler@responseInterceptor
  - com.networknt.handler.RequestInterceptorInjectionHandler@requestInterceptor
  # Cors handler to handler post/put pre-flight. It is not used in the sidecar but only in the router.
  - com.networknt.cors.CorsHttpHandler@cors
  - com.networknt.openapi.OpenApiHandler@specification
  - com.networknt.openapi.JwtVerifyHandler@security
  - com.networknt.body.BodyHandler@body
  - com.networknt.audit.AuditHandler@audit
  #- com.networknt.sanitizer.SanitizerHandler@sanitizer
  - com.networknt.openapi.ValidatorHandler@validator
  # Header middleware to manipulate request and/or response headers before or after downstream server
  - com.networknt.header.HeaderHandler@header
  # Rate limit middleware to prevent DDoS attacks externally or throttle requests internally
  #- com.networknt.limit.LimitHandler@limit
  # IP whitelist handler to allow only one or several IPs to connect to the gateway.
  - com.networknt.whitelist.WhitelistHandler@whitelist
  # Direct requests to named services based on the request path
  #- com.networknt.router.middleware.ServiceDictHandler@path
  #- com.networknt.router.middleware.PathServiceHandler@path
  - com.networknt.router.middleware.PathPrefixServiceHandler@prefix
  - com.networknt.router.RouterHandler@router
  #- com.networknt.resource.VirtualHostHandler@virtual
  # Customer business domain specific cross-cutting concerns handlers
  # - com.example.validator.CustomizedValidator@custvalidator
  # Framework endpoint handlers
  - com.networknt.health.HealthGetHandler@health
  - com.networknt.info.ServerInfoGetHandler@info
  - com.networknt.logging.handler.LoggerGetHandler@getLogger
  - com.networknt.logging.handler.LoggerPostHandler@postLogger
  - com.networknt.logging.handler.LoggerGetLogContentsHandler@getLogContents
  # - com.networknt.metrics.prometheus.PrometheusGetHandler@getprometheus
  #- com.networknt.auth.StatelessAuthHandler@stateless
  - com.networknt.config.reload.handler.ModuleRegistryGetHandler@modules
  - com.networknt.config.reload.handler.ConfigReloadHandler@configReload
  # Chaos Monkey middleware handlers and API handler
  - com.networknt.chaos.KillappAssaultHandler@killapp
  - com.networknt.chaos.LatencyAssaultHandler@latency
  - com.networknt.chaos.MemoryAssaultHandler@memory
  - com.networknt.chaos.ExceptionAssaultHandler@exchaos
  - com.networknt.chaos.ChaosMonkeyGetHandler@chaosget
  - com.networknt.chaos.ChaosMonkeyPostHandler@chaospost
  - com.networknt.specification.SpecDisplayHandler@spec
  - com.networknt.specification.SpecSwaggerUIHandler@swaggerui
  - com.networknt.router.middleware.GatewayTokenHandler@token
  - com.networknt.specification.FaviconHandler@favicon
  - com.networknt.proxy.salesforce.SalesforceHandler@salesforce
  - com.networknt.proxy.ExternalServiceHandler@external
  - com.networknt.proxy.mras.MrasHandler@mras
  - com.networknt.apikey.ApiKeyHandler@apikey
  - com.networknt.router.OAuthServerHandler@oauth
  - com.networknt.server.handler.ServerShutdownHandler@shutdown

handler.chains.default:
  - whitelist
  - exception
  #- latency
  - memory
  #- killapp
  #- limit
  - traceability
  - correlation
  - cors
  - responseInterceptor
  - requestInterceptor
  # - stateless
  - header
  - security
  - audit
  - salesforce
  - mras
  # - body
  #- path
  - external
  - prefix
  - token 
  - router
  #- specification
  #- sanitizer
  #- validator
  #- proxy

# server.yml
server.serviceId: eadp-corp-gateway
server.httpsPort: 8443
server.maxTransferFileSize: 100000000
server.shutdownGracefulPeriod: 10000

#audit.yml
audit.timestampFormat: yyyy-MM-dd'T'HH:mm:ss.SSSZ

# router.yml
router.maxRequestTime: 30000
router.http2Enabled: false
router.urlRewriteRules:
  - /v1/pets(.*)$ /dev-eadpapiops-test-ns/eadp-petstore/v1/pets$1
  - /v1/market(.*)$ /dev-eadpapiops-test-ns/market-rest/v1/market$1
  - /gateway/BitbucketApi/1.0(.*)$ /rest/api/1.0$1
  - /aizgateway/GB-Members-Enrollment/1.0.0(.*)$ /dev-dsgb-gbmbrenrollment-ns/web-api-gbmbrenrollment$1
  - /gateway/salesforce-events-api/1.0.0(.*)$ /dev$1
  - /aizgateway/external-hub-api/1.0.0(.*)$ /dev$1
  - /aizgateway/leads-intake/0.1.0(.*)$ /sit-dsxfunc-leadsintakeautomation-ns/leads-intake-automation-producer/leads$1
  - /aizgateway/USGrp_Limra_EOI_API_V2/1.0(.*)$ /dev/ldex/eoi/elections/v2$1
  # DT DS Lumino Client Journey Phase 4
  - /aizgateway/providersearch/3.0(.*)$ /dev-dslumino-providersearch-ns/web-svc-dhs-providersearch$1
  - /aizgateway/providersearchlumino/3.0(.*)$ /dev-dslumino-providersearchlumino-ns/web-svc-dhs-providersearch$1
  #below soap api test for Haroon Bhatti for  MRAS inbound
  - /aizws/MrasLabProxy/1.0(.*)$ /dev-isl-mraseventmapperv1-ns/isl-api-mras-event-mapper/restv2/events$1
  - /aizgateway/MrasRequirementStatusChange/1.0(.*)$ /dev-isl-mraseventmapperv1-ns/isl-api-mras-event-mapper/restv2/events$1
  #- /gateway/ICAS_Mortgages_SPO/1.0(.*)$ /$1
  # Corp consumer and producer
  - /gateway/pega-client-interaction-producer/1.0(.*)$ /dev-eadpapiops-pegaocv-ns/eadp-pega-client-interaction-producer/v1$1
  - /gateway/pega-Client-Interaction-consumer/1.0(.*)$ /prweb/api/OCVServicePackage/v2$
  - /corpgateway/ClaimCases/1.0(.*)$ /prweb/PRRestService/HnDClaims/v1$1
  - /corpgateway/ClaimCases/2.0(.*)$ /prweb/PRRestService/HnDClaims/v2$1
  - /corpgateway/ClaimCases/3.0(.*)$ /prweb/PRRestService/HnDClaims/v3$1
#openapi-security.yml
# Enable JWT verification flag.
openapi-security.enableVerifyJwt: true
# Extract JWT scope token from the X-Scope-Token header and validate the JWT token
openapi-security.enableExtractScopeToken: false
# Enable JWT scope verification. Only valid when enableVerifyJwt is true.
openapi-security.enableVerifyScope: false
# Enable JWT scope verification. 
# Only valid when (enableVerifyJwt is true) AND (enableVerifyScope is true)
openapi-security.enableVerifyJwtScopeToken: false
openapi-security.keyResolver: JsonWebKeySet
openapi-security.bootstrapFromKeyService: true
openapi-security.skipPathPrefixes:
  # petstore
  - /v1/streams
  # Apollo H&D
  - /aizgateway/ClaimCases  
  #- /gateway/salesforce-events-api
  # US Excite
  - /aizgateway/USGrp_Limra_EOI_API_V2
  # Flinks
  - /v3/34c34aea-dc28-41cc-951c-51b5218fca46
  #  Morningstar SF
  - /services/apexrest/SLFD_FundResearchIntakeServices
  # Sun eApp SF
  - /services/apexrest/eapp-accounts
  - /services/apexrest/eapp-finaccount
  #- DS Lumino Client Journey 
  - /aizgateway/providersearch
  - /aizgateway/providersearchlumino
  # GB Member Enrollment
  - /aizgateway/GB-Members-Enrollment
  # Salesforce events
  - /gateway/salesforce-events-api
  # MRAS
  - /aizws/MrasLabProxy
  - /aizgateway/MrasRequirementStatusChange
  # Cannex
  - /aizws/CannexWrapperAPI/1.0
  # ePAM
  - /auth/as/token.oauth2
  # Blackrock
  - /api/compliance/state/level/v1/levels:filterLevel
# okta security end

#client.yml
client.verifyHostname: false
client.multipleAuthServers: true
# client.tokenProxyHost: proxy-mwg-http.ca.sunlife
# client.tokenProxyPort: 8443
client.timeout: 180000
client.loadKeyStore: true
client.keyStore: client.keystore
client.pathPrefixServices:
  /gateway/BitbucketApi/1.0: BITBUCKET
  /gateway/ICAS_Mortgages_SPO/1.0: ClaimCases
  /gateway/pega-client-interaction-producer-api/1.0: Pega-Producer
  /gateway/pega-client-interaction-consumer-api/1.0: Pega-Consumer
  /aizws/MrasLabProxy/1.0: MrasLabProxy
  /aizgateway/MrasRequirementStatusChange/1.0: MrasStatusChange
  

client.tokenKeyServiceIdAuthServers:
  Pega-Producer:
    server_url: https://sunlifeapi.oktapreview.com
    # set to true if the oauth2 provider supports HTTP/2
    enableHttp2: false
    # token endpoint for client credentials grant for Pega
    uri: /oauth2/aus2nazd2kHJZd4Tx1d7/v1/keys
  Pega-Consumer:
    server_url: https://sunlifeapi.oktapreview.com
    # set to true if the oauth2 provider supports HTTP/2
    enableHttp2: false
    # token endpoint for client credentials grant for Pega
    uri: /oauth2/aus2nazd2kHJZd4Tx1d7/v1/keys
  ClaimCases:
    server_url: https://sunlifeapi.oktapreview.com
    # set to true if the oauth2 provider supports HTTP/2
    enableHttp2: false
    # token endpoint for client credentials grant for GB auth server UAT
    uri: /oauth2/aus9xss7ersevDrB31d6/v1/keys

client.tokenCcServiceIdAuthServers:
  MrasLabProxy:
    server_url: https://sunlifeapi.oktapreview.com
    # set to true if the oauth2 provider supports HTTP/2
    enableHttp2: false
    # token endpoint for client credentials grant for Mras
    uri: /oauth2/aus9xt6dd1cSYyRPH1d6/v1/token
    # client_id for client credentials grant flow for Mras.
    client_id: 0oa3fbpejuouYqXRu1d7
    client_secret: NPxfFwaCQEz1mnfKX_89LY8l_aLBbJjD3wObeZKx
    scope:
      - ind.mraseventmapper.write
  MrasStatusChange:
    server_url: https://sunlifeapi.oktapreview.com
    # set to true if the oauth2 provider supports HTTP/2
    enableHttp2: false
    # token endpoint for client credentials grant for Mras
    uri: /oauth2/aus9xt6dd1cSYyRPH1d6/v1/token
    # client_id for client credentials grant flow for Mras.
    client_id: 0oa3fbpejuouYqXRu1d7
    client_secret: NPxfFwaCQEz1mnfKX_89LY8l_aLBbJjD3wObeZKx
    scope:
      - ind.mraseventmapper.write

# token.yml
token.enabled: true
token.appliedPathPrefixes:
  - /aizws/MrasLabProxy
  - /aizgateway/MrasRequirementStatusChange
  

# header.yml
header.enabled: true
#header.request.update:
header.pathPrefixHeader:
  #Flinks Fin banking
  #/v3/7c6e6360-a5f5-40b5-9239-586973e74522/BankingServices/GetNightlyRefreshStatus:
  # open banking for stage
  /v3/34c34aea-dc28-41cc-951c-51b5218fca46/BankingServices/GetNightlyRefreshStatus:
    request:
      update:
        #Authorization: Bearer I7RegSfYYOxEJ1Au
        Authorization: Bearer 1lbqd3d7r7H7N5xC
  #Flinks Investment
  /v3/0cd6566d-4613-4451-b3b4-b19c6b5445cd/BankingServices/GetWealthNightlyRefreshStatus:
    request:
      update:
        Authorization: Bearer fmDh5pUBwmMGQn1b
  
#external-service.yml
externalService.enabled: true
#externalService.proxyHost: proxy-mwg-http.ca.sunlife
# externalService.proxyHost: bha01ab1.ca.sunlife
#externalService.proxyHost: wka00ab2.ca.sunlife
# externalService.proxyPort: 8443
# externalService.enableHttp2: false
externalService.urlRewriteRules:
  # SF Flinks
  #- /aizgateway/FinancialAggregation/1.0(.*)$ $1
  - /gateway/ePAM-TokenWebAPI/1.0(.*)$ /auth$1
  - /aizws/CannexWrapperAPI/1.0(.*)$ /devext/CANX/AntcMultiService$1
externalService.pathHostMappings: 
  - /api/compliance/state/level/v1 https://sunlife.blackrock.com
  - /v1/org/1462 https://api.hearsaysocial.com
  # MS Sharepoint for get Token
  - /415bb08f-1a20-4fbe-9b57-313be7050945 https://accounts.accesscontrol.windows.net
  # ePAM
  - /auth/as/token.oauth2 https://epamws-test.ssgx.com
  # Flinks Open Banking
  #- /v3/7c6e6360-a5f5-40b5-9239-586973e74522 https://sunlifedev-api.private.fin.ag
  # Flinks Open Banking being tested against their STG env
  - /v3/34c34aea-dc28-41cc-951c-51b5218fca46 https://sunlifestg-api.private.fin.ag
  # Flinks Investments
  #- v3/0cd6566d-4613-4451-b3b4-b19c6b5445cd https://sunlifewealthdev-api.private.fin.ag
  #ICAS US Mortgages
  - /sites/Operations https://sunlifefinancial.sharepoint.com
  #Cannex 
  - /devext/CANX/AntcMultiService https://wwwdev.cannex.com
  # Blackrock
  - /api/compliance/state/level/v1/levels:filterLevel https://sunlife.blackrock.com
  # - /v1/streams https://localhost:9443
# service.yml
service.singletons:
  - com.networknt.server.StartupHookProvider:
      - com.networknt.rule.RuleLoaderStartupHook
  - com.networknt.registry.URL:
      - com.networknt.registry.URLImpl:
          parameters:
            com.sunlife.eadp.eadp-petstore-0.0.1-SNAPSHOT: https://dev-corp-wk-ca1-k8s.sunlifecorp.com
            MARKETPLACE: https://dev-corp-wk-ca1-k8s.sunlifecorp.com
            BITBUCKET: https://stage-bitbucket.sunlifecorp.com
            GB-Members-Enrollment: https://dev-corp-wk-ca1-k8s.sunlifecorp.com
            salesforce-events-api: https://2crmxdl6jh-vpce-08150723daa9f5272.execute-api.us-east-1.amazonaws.com
            leads-intake: https://dev-corp-aws-ca1-k8s.sunlifecorp.com
            ClaimCases: https://k8s.dev-set1-pegacase.sunlifecorp.com
            MrasLabProxy: https://dev-corp-aws-ca1-k8s.sunlifecorp.com
            MrasStatusChange: https://dev-corp-aws-ca1-k8s.sunlifecorp.com
            US_Grp_Excite_Limra: https://13tg6ytt37-vpce-08150723daa9f5272.execute-api.us-east-1.amazonaws.com
            Pega-Producer: https://dev-corp-wk-ca1-k8s.sunlifecorp.com
            Pega-Consumer: https://k8s.devnext-set6-pegacase.sunlifecorp.com
            providersearch: https://dev-corp-wk-ca1-k8s.sunlifecorp.com
            providersearchlumino: https://dev-corp-wk-ca1-k8s.sunlifecorp.com
  - com.networknt.registry.Registry:
      - com.networknt.registry.support.DirectRegistry
  - com.networknt.balance.LoadBalance:
      - com.networknt.balance.RoundRobinLoadBalance
  - com.networknt.cluster.Cluster:
      - com.networknt.cluster.LightCluster
  - com.networknt.utility.Decryptor:
      - com.networknt.decrypt.AESDecryptor
  - com.networknt.handler.RequestInterceptor:
      - com.networknt.body.RequestBodyInterceptor
      - com.networknt.reqtrans.RequestTransformerInterceptor
  - com.networknt.handler.ResponseInterceptor:
      - com.networknt.body.ResponseBodyInterceptor
      - com.networknt.restrans.ResponseTransformerInterceptor

#body.yml
body.cacheRequestBody: true
body.cacheResponseBody: true

# rule-loader yml
rule-Loader.ruleSource: config-folder
rule-loader.endpointRules: 
  /aizws/MrasLabProxy/1.0@post:
    request-transform:
      - ruleId: xml2json-transformer
    response-transform:
      - ruleId: json2xml-transformer
  #Cannex
  /devext/CANX/AntcMultiService/1.0@post:
    request-transform:
      - ruleId: soap-security-request

  #Flinks header transformer
  /v3/7c6e6360-a5f5-40b5-9239-586973e74522/BankingServices/Authorize@post:
  #/v3/34c34aea-dc28-41cc-951c-51b5218fca46@post:
    #request-transform:
      #- ruleId: flinks-request-header-replace
  #/v3/34c34aea-dc28-41cc-951c-51b5218fca46/insight/login/(.*)/attributes@post:
    #request-transform:
      #- ruleId: flinks-request-header-replace
  #/v3/34c34aea-dc28-41cc-951c-51b5218fca46/insight/login@post:
    #request-transform:
      #- ruleId: flinks-request-header-replace
  #/v3/34c34aea-dc28-41cc-951c-51b5218fca46/BankingServices/GetAccountsSummary@post:
    #request-transform:
      #- ruleId: flinks-request-header-replace
  #/v3/34c34aea-dc28-41cc-951c-51b5218fca46/BankingServices/institutions@get:
    #request-transform:
      #- ruleId: flinks-request-header-replace
  #/v3/34c34aea-dc28-41cc-951c-51b5218fca46/BankingServices/GetAccountsSummaryAsync@get:
    #request-transform:
      #- ruleId: flinks-request-header-replace
  #/v3/34c34aea-dc28-41cc-951c-51b5218fca46/BankingServices/GetAccountsDetail@post:
    #request-transform:
      #- ruleId: flinks-request-header-replace
  #/v3/34c34aea-dc28-41cc-951c-51b5218fca46/BankingServices/GetAccountsDetailAsync@get:
    #request-transform:
      #- ruleId: flinks-request-header-replace
  #/v3/34c34aea-dc28-41cc-951c-51b5218fca46/BankingServices/GetStatements@post:
    #request-transform:
      #- ruleId: flinks-request-header-replace
  #/v3/34c34aea-dc28-41cc-951c-51b5218fca46/BankingServices/SetScheduledRefresh@patch:
    #request-transform:
      #- ruleId: flinks-request-header-replace
  #/v3/34c34aea-dc28-41cc-951c-51b5218fca46/BankingServices/DeleteCard@delete:
    #request-transform:
      #- ruleId: flinks-request-header-replace
  #/v3/34c34aea-dc28-41cc-951c-51b5218fca46/BankingServices/GetNightlyRefreshStatus@get:
    #request-transform:
      #- ruleId: flinks-request-header-replace
  #/v3/34c34aea-dc28-41cc-951c-51b5218fca46/BankingServices/GetWealthNightlyRefreshStatus@get:
    #request-transform:
      #- ruleId: flinks-request-header-replace
  #/v3/34c34aea-dc28-41cc-951c-51b5218fca46/Investments@post:
    #request-transform:
      #- ruleId: flinks-request-header-replace
  #/v3/34c34aea-dc28-41cc-951c-51b5218fca46/attributes/library@get:
    #request-transform:
      #- ruleId: flinks-request-header-replace
  #/v3/34c34aea-dc28-41cc-951c-51b5218fca46/attributes/library/business@get:
    #request-transform:
      #- ruleId: flinks-request-header-replace
  /v3/34c34aea-dc28-41cc-951c-51b5218fca46@get:
    request-transform:
      - ruleId: flinks-request-header-replace
  /v3/34c34aea-dc28-41cc-951c-51b5218fca46@put:
    request-transform:
      - ruleId: flinks-request-header-replace
  /v3/34c34aea-dc28-41cc-951c-51b5218fca46@post:
    request-transform:
      - ruleId: flinks-request-header-replace
  /v3/34c34aea-dc28-41cc-951c-51b5218fca46@patch:
    request-transform:
      - ruleId: flinks-request-header-replace
  /v3/34c34aea-dc28-41cc-951c-51b5218fca46@delete:
    request-transform:
      - ruleId: flinks-request-header-replace 
  
# response-transformer.yml
#response-transformer.enabled: true
#response-transformer.requiredContent: false
response-transformer.appliedPathPrefixes:
  - /aizws/MrasLabProxy/1.0 
# request-transformer.yml
#request-transformer.enabled: true
#request-transformer.requiredContent: false
request-transformer.appliedPathPrefixes:
  - /aizws/MrasLabProxy/1.0
  - /devext/CANX/AntcMultiService/1.0
  # Flinks
  - /v3/34c34aea-dc28-41cc-951c-51b5218fca46

# pathPrefixService.yml
pathPrefixService.enabled: true
pathPrefixService.mapping:
  /v1/pets: com.sunlife.eadp.eadp-petstore-0.0.1-SNAPSHOT
  /v1/market: MARKETPLACE
  /gateway/BitbucketApi/1.0: BITBUCKET
  /aizgateway/GB-Members-Enrollment/1.0.0: GB-Members-Enrollment
  /gateway/salesforce-events-api/1.0.0: salesforce-events-api
  /corpgateway/ClaimCases/3.0: ClaimCases
  /corpgateway/ClaimCases/2.0: ClaimCases
  /corpgateway/ClaimCases/1.0: ClaimCases
  /aizgateway/external-hub-api/1.0.0: external-hub-api
  /aizgateway/leads-intake/0.1.0: leads-intake
  #below soap api test for Haroon Bhatti for  MRAS inbound
  /aizws/MrasLabProxy/1.0: MrasLabProxy
  /aizgateway/MrasRequirementStatusChange/1.0: MrasStatusChange
  #/aizgateway/IND_MrasLabProxyRest/1.0: IND_MrasLabProxyRest
  #/gateway/ICAS_Mortgages_SPO/1.0: ICASMort
  /aizgateway/USGrp_Limra_EOI_API_V2/1.0: US_Grp_Excite_Limra
  # DT DS Lumino Client Journey
  /aizgateway/providersearch/3.0: providersearch
  /aizgateway/providersearchlumino/3.0: providersearchlumino
  # Below api's are corp2corp
  /corpgateway/pega-client-interaction-producer/1.0: Pega-Producer
  /corpgateway/pega-client-interaction-consumer/1.0: Pega-Consumer
     
# proxy.yml
proxy.host: https://proxy-mwg-http.ca.sunlife:8443

# Configuration for SalesforceHandler
salesforce.enabled: true
# Certificate file name. The private key alias is the filename without the extension.
salesforce.certFilename: apigwdevuatcorpaiz.pfx
salesforce.certPassword: S1fap!gtwd3vu4t
salesforce.proxyHost: proxy-mwg-http.ca.sunlife
salesforce.proxyPort: 8443
salesforce.enableHttp2: true
salesforce.pathPrefixAuths:
  # MORNINGSTAR #
  - pathPrefix: /services/apexrest/SLFD_FundResearchIntakeServices
    authIssuer: 3MVG9SUK8FGR3O.vkequhMTCZm_ss0cU2jvnm8vL6LB4U4GGx7a.RfzRyxMVWBOR0n72ONWRSixjBsbfTid_m
    authSubject: morningstar.integrationuser@sunlife.slfd.devmseapp
    authAudience: https://test.salesforce.com
    iv: YeocAvs2a/PEaRqg
    tokenTtl: 60
    waitLength: 5000
    tokenUrl: https://test.salesforce.com/services/oauth2/token
    #serviceHost: https://slfslfd--devmseapp.sandbox.lightning.force.com
    serviceHost: https://slfslfd--devmseapp.sandbox.my.salesforce.com
  # CONQUEST #
  - pathPrefix: /services/apexrest/SLFD_ConquestApplicationServices
    authIssuer: 3MVG9SUK8FGR3O.vJebzXvWgAEZ9KX_7vmKt6k3g_AdsTWtzBTLIYwkw2HANBfU9jTTJF9h5mL.2tJdYhyaPW
    authSubject: apiuser.conquestintegration@sunlife.slfd.sit
    authAudience: https://test.salesforce.com
    iv: YeocAvs2a/PEaRqg
    tokenTtl: 60
    waitLength: 5000
    tokenUrl: https://test.salesforce.com/services/oauth2/token
    serviceHost: https://slfslfd--sit.my.salesforce.com
  # SunEapp #
  - pathPrefix: /services/apexrest/eapp-accounts
    authIssuer: 3MVG9SUK8FGR3O.vkequhMTCZm_ss0cU2jvnm8vL6LB4U4GGx7a.RfzRyxMVWBOR0n72ONWRSixjBsbfTid_m
    authSubject: suneapp.integrationuser@sunlife.slfd.devmseapp
    authAudience: https://test.salesforce.com
    iv: YeocAvs2a/PEaRqg
    tokenTtl: 60
    waitLength: 5000
    tokenUrl: https://test.salesforce.com/services/oauth2/token
    serviceHost: https://slfslfd--devmseapp.sandbox.my.salesforce.com
  - pathPrefix: /services/apexrest/eapp-finaccount
    authIssuer: 3MVG9SUK8FGR3O.vkequhMTCZm_ss0cU2jvnm8vL6LB4U4GGx7a.RfzRyxMVWBOR0n72ONWRSixjBsbfTid_m
    authSubject: suneapp.integrationuser@sunlife.slfd.devmseapp
    authAudience: https://test.salesforce.com
    iv: YeocAvs2a/PEaRqg
    tokenTtl: 60
    waitLength: 5000
    tokenUrl: https://test.salesforce.com/services/oauth2/token
    #serviceHost: https://slfslfd--devmseapp.sandbox.lightning.force.com
    serviceHost: https://slfslfd--devmseapp.sandbox.my.salesforce.com

# Configuration for MrasHandler
# Indicate if the handler is enabled or not
mras.enabled: true
# keyStoreName
mras.keyStoreName: mras-dev.jks
# keyStorePass
mras.keyStorePass: ap!gwmra5c3rt
# keyPass
mras.keyPass: ap!gwmra5c3rt
# trustStoreName
#mras.trustStoreName: mras_TS.jks
# trustStorePass
#mras.trustStorePass: S1fap!gtwtst
# Proxy Host if calling within the corp network with a gateway like Mcafee gateway.
# mras.proxyHost: proxy-mwg-http.ca.sunlife
# Proxy Port if proxy host is used. default value will be 443 which means HTTPS.
# mras.proxyPort: 8443
# If HTTP2 is used to connect to the MRAS site.
mras.enableHttp2: false
# A list of applied request path prefixes and authentication config, other requests will skip this handler.
mras.urlRewriteRules:
  - /gateway/mras-allfinanz-api/1.0.0(.*)$ /allfinanz/api$1
  - /gateway/mras-datastream-api/1.0.0(.*)$ /datastream/api/v1$1
mras.pathPrefixAuth: 
  /allfinanz/api: accessToken
  /datastream/api/v1: microsoft
  /v1/streams: anonymous

# MRAS basic authentication configuration for some endpoints
#basicAuth:
# username for the authentication
mras.basicAuth.username: 
# password for the authentication
mras.basicAuth.password: 
# host for the endpoint
mras.basicAuth.serviceHost: https://api.ais-dev.sunlife.munichre.cloud

# MRAS accessToken issued by the MRAS service
#accessToken:
# MRAS get token URL to send the request
mras.accessToken.tokenUrl: https://ais-dev.sunlife.munichre.cloud/allfinanz/auth/oauth/token
# username for the authentication
mras.accessToken.username: SunLifeUserCaseCreation2
# password for the authentication
mras.accessToken.password: ILike2EatIceCreamInJanuary2020*
# is cache enabled for the token
mras.accessToken.cacheEnabled: true
# memory key
mras.accessToken.memKey: MRASToken
# grace period
mras.accessToken.gracePeriod: 50
# host for the endpoint
mras.accessToken.serviceHost: https://api.ais-dev.sunlife.munichre.cloud

# MRAS Microsoft token issued by Microsoft service
#microsoft:
mras.microsoft.tokenUrl: https://login.microsoftonline.com/17cd4695-aff3-4df3-8d9f-e42a48074485/oauth2/token
mras.microsoft.username: 4008e584-c89b-42ff-9d0b-7ddbd0bd1768
mras.microsoft.password: -1sIB-1lyOUS1OxJiCp16~Ud-85cj~oR4r
mras.microsoft.resource: 9bdaacd4-331c-4c2b-9a5d-0e90e8b91c69
mras.microsoft.cacheEnabled: true
mras.microsoft.memKey: MrasDatastreamCachingKey
mras.microsoft.gracePeriod: 120
mras.microsoft.serviceHost: https://api.ais-dev.sunlife.munichre.cloud

#anonymous:
# MRAS target service host for service access with the token get with above property.
mras.anonymous.serviceHost: https://localhost:9443

# whitelist.yml
whitelist.enabled: true
whitelist.paths:
  '/aizgateway/@get':
    # IPv4 Exact from AIZ LGW
    - '172.29.1.227'
  '/aizgateway/@post':
    # IPv4 Exact from AIZ LGW
    - '172.29.1.227'
  '/aizgateway/@put':
    # IPv4 Exact from AIZ LGW
    - '172.29.1.227'
  '/aizgateway/@patch':
    # IPv4 Exact from AIZ LGW
    - '172.29.1.227'
  '/aizgateway/@delete':
    # IPv4 Exact from AIZ LGW
    - '172.29.1.227'
  '/gateway/SLFD_Morningstar/@post':
    # IPv4 Exact from AIZ LGW
    - '172.29.1.227'
  '/gateway/SLFD_SunEapp/@post':
    # IPv4 Exact from AIZ LGW
    - '172.29.1.227'
  '/gateway/SLFD_SunEapp/@get':
    # IPv4 Exact from AIZ LGW
    - '172.29.1.227'
  '/gateway/salesforce-events-api/@post':
    # IPv4 Exact from AIZ LGW
    - '172.29.1.227'
  '/aizws/MrasLabProxy/@post':
    # IPv4 Exact from AIZ LGW
    - '172.29.1.227'
  '/aizws/CannexWrapperAPI/@post':
    # IPv4 Exact from AIZ LGW
    - '172.29.1.227'

# oauthServer.yml
oauthServer.client_credentials: ["client_id1:client_secret1","client_id2:client_secret2","5f6906ef-d2f7-4f65-8c04-25e054b352fa:102bd89c-d946-4713-a045-80d9c425d82f"]
oauthServer.passThrough: true
